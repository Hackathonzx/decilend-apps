<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeciLend</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #654321, #000000);
            color: #fff;
        }
        .navbar {
            background-color: green;
        }
        .navbar-nav .nav-link {
            color: #fff !important;
        }
        .panel {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin: 1em;
            padding: 1em;
            transition: transform 0.2s;
            color: #000;
        }
        .panel:hover {
            transform: scale(1.05);
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">DeciLend</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">


                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#borrowers">Borrowers</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#lenders">Lenders</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#how-it-works">How It Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#support">Support</a>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-primary" id="connectWallet">Connect Wallet</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="container my-4">
        <section id="dashboard" class="row">
            <div class="loan-requests">
                <h3>Loan Requests</h3>
                <button class="btn btn-secondary" id="showLoanRequestForm">Submit Loan Request</button>
            </div>


            <div class="col-md-6">
                <div class="panel">

                    <h2>Borrowers</h2>
                    <div class="loan-requests">
                        <h3>Loan Requests</h3>
                        <button class="btn btn-secondary" id="showLoanRequestForm">Submit Loan Request</button>
                    </div>
                    <div class="credit-scores">
                        <h3>Credit Scores</h3>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel">
                    <h2>Lenders</h2>
                    <div class="loan-opportunities">
                        <h3>Loan Opportunities</h3>
                    </div>
                    <div class="investment-portfolios">
                        <h3>Investment Portfolios</h3>
                    </div>
                </div>
            </div>
        </section>
        <section id="loanRequestFormSection" class="hidden">
            <div class="panel">
                <h2>Submit Loan Request</h2>
                <form id="loanRequestForm">
                    <div class="mb-3">
                        <label for="loanAmount" class="form-label">Loan Amount</label>
                        <input type="number" class="form-control" id="loanAmount" required>
                    </div>
                    <div class="mb-3">
                        <label for="loanType" class="form-label">Loan Type</label>
                        <select class="form-select" id="loanType" required>
                            <option value="personal">Personal</option>
                            <option value="business">Business</option>
                            <option value="education">Education</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Request</button>
                    <button type="button" class="btn btn-secondary" id="hideLoanRequestForm">Cancel</button>
                </form>
            </div>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const loanRequests = [
            { id: 1, amount: 5000, status: 'Pending' },
            { id: 2, amount: 10000, status: 'Approved' }
        ];

        const creditScores = [
            { id: 1, score: 720 },
            { id: 2, score: 680 }
        ];

        const loanOpportunities = [
            { id: 1, amount: 15000, interest: '5%' },
            { id: 2, amount: 20000, interest: '4.5%' }
        ];

        const investmentPortfolios = [
            { id: 1, totalInvested: 50000, returns: '7%' },
            { id: 2, totalInvested: 30000, returns: '6.5%' }
        ];

        function renderLoanRequests() {
            const loanRequestsContainer = document.querySelector('.loan-requests');
            loanRequestsContainer.innerHTML = loanRequests.map(request => `
                <div class="card mb-2">
                    <div class="card-body">
                        <p>Loan ID: ${request.id}</p>
                        <p>Amount: $${request.amount}</p>
                        <p>Status: ${request.status}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderCreditScores() {
            const creditScoresContainer = document.querySelector('.credit-scores');
            creditScoresContainer.innerHTML = creditScores.map(score => `
                <div class="card mb-2">
                    <div class="card-body">
                        <p>Credit Score ID: ${score.id}</p>
                        <p>Score: ${score.score}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderLoanOpportunities() {
            const loanOpportunitiesContainer = document.querySelector('.loan-opportunities');
            loanOpportunitiesContainer.innerHTML = loanOpportunities.map(opportunity => `
                <div class="card mb-2">
                    <div class="card-body">
                        <p>Opportunity ID: ${opportunity.id}</p>
                        <p>Amount: $${opportunity.amount}</p>
                        <p>Interest: ${opportunity.interest}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderInvestmentPortfolios() {
            const investmentPortfoliosContainer = document.querySelector('.investment-portfolios');
            investmentPortfoliosContainer.innerHTML = investmentPortfolios.map(portfolio => `
                <div class="card mb-2">
                    <div class="card-body">
                        <p>Portfolio ID: ${portfolio.id}</p>
                        <p>Total Invested: $${portfolio.totalInvested}</p>
                        <p>Returns: ${portfolio.returns}</p>
                    </div>
                </div>
            `).join('');
        }

        renderLoanRequests();
        renderCreditScores();
        renderLoanOpportunities();
        renderInvestmentPortfolios();

        // Connect Wallet
        const connectWalletButton = document.getElementById('connectWallet');
        connectWalletButton.addEventListener('click', async () => {
            if (window.ethereum) {
                try {
                    await window.ethereum.request({ method: 'eth_requestAccounts' });
                    const web3 = new Web3(window.ethereum);
                    const accounts = await web3.eth.getAccounts();
                    alert(`Connected to wallet: ${accounts[0]}`);
                } catch (error) {
                    console.error(error);
                    alert('Failed to connect wallet');
                }
            } else {
                alert('MetaMask is not installed');
            }
        });

        // Show and hide loan request form
        const showLoanRequestFormButton = document.getElementById('showLoanRequestForm');
        const hideLoanRequestFormButton = document.getElementById('hideLoanRequestForm');
        const loanRequestFormSection = document.getElementById('loanRequestFormSection');

        showLoanRequestFormButton.addEventListener('click', () => {
            loanRequestFormSection.classList.remove('hidden');
        });

        hideLoanRequestFormButton.addEventListener('click', () => {
            loanRequestFormSection.classList.add('hidden');
        });

        // Handle loan request form submission
        const loanRequestForm = document.getElementById('loanRequestForm');
        loanRequestForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            const amount = document.getElementById('loanAmount').value;
            const type = document.getElementById('loanType').value;
            // Add logic to interact with smart contract here
            alert(`Loan request submitted: Amount - $${amount}, Type - ${type}`);
        });
    });
    </script>
</body>
</html>
